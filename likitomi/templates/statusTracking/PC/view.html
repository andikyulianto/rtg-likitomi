{% extends "PC/containerHome.html"%}
{% block view %}


<div id="accordion">

	<h3><a href="#">Normal Plan</a></h3>
	<div>
		<p>

<!--- table of normal plan -->
		<table align='center' height='450' width="95%" class='tbltables' >
	<tr>
		<td width="45%"><a href="/likitomi/pcdetail/?eID={{eID}}&page=CR"><center>Show full CR schedule</center></a>
		{% block crview %}
		<!-- table CR --><center><table align=center width="90%"> 
			<tr><td width="50%">{# left #} From: 
	<div id="linkCR">
			<table align=center width="100%"><!-- table left --><span class="header">
			<thead><tr bgcolor="#cccccc" width="100%"><th width="10%" rowspan="2"></th><td width="10%"><b> Sch.IN </b></td><td width="10%"> <b>Sch.OUT</b> <td width="10%"><b> Sch.pcs</b></td></td><th width="20%" rowspan="2"> Product code </th><th width="10%" rowspan="2"> Due</th></tr>
			<tr bgcolor="#cccccc"><th align="right">Act.IN</th><th align="right">Act.OUT</th><th align="right">Act.pcs</th></tr></thead>
			</span>
			{% for start,end,product,actual_start,actual_end,days_left,plan_amount,actual_amount_cr in items_plan_cr %}
			<tr class="{% cycle 'rowCR1' 'rowCR2' 'rowCR3' as rowcountCR %}" onClick="HighLightTR('{{rowcountCR}}','#c9cc99','cc3333','{{product}}');showDetail('#loadPageCR','/likitomi/display/?product={{product}}');">
			<td rowspan="2">{% if cr == product %} > {% endif %}</td>
			<td>{{start|time:"H:i"}}</td>
			<td>{{ end|time:"H:i" }}</td>
			<td>{{plan_amount}} </td>
			<td rowspan="2" align="center"><p class="tbunderline">{{product}}</p></td>
			<td rowspan="2"><p class="tbunderline">{{days_left}}</p></td>
			</tr>
			<tr class="{{ rowcountCR }}" onClick="HighLightTR('{{rowcountCR}}','#c9cc99','cc3333','{{product}}'); showDetail('#loadPageCR','/likitomi/display/?product={{product}}');" >
			<td><p class="tbsgunderline">
				{% if actual_start != NULL %}
				{{actual_start|time:"H:i" }}
				{% else %} 
				<font color="white"> </font>
				{% endif %}
			</p></td>
			<td><p class="tbsgunderline">				
				{% if actual_end != NULL%}
				{{actual_end|time:"H:i" }}
				{% else %}
				<font color="white">  </font>
				{% endif %}

			</p></td>
			<td><p class="tbsgunderline">
				{% if plan_amount > actual_amount_cr %}
				<font color="red">{{actual_amount_cr}}</font>
				{% else %}{% if actual_amount_cr != NULL%}
				{{actual_amount_cr}}
				{% else %}
				0
				{% endif %}{% endif %}

			</p></td>
			</tr></a>
			{% endfor %}
			</table> <!-- end table left -->
			</center></div>
			
			</td><td width="50%" bgColor="#F8F8F8"><table><div id="loadPageCR"> {# right #} << Please Click in order to see Product Detail </div></table></td></tr>

			</table><!-- end table CR -->
		{% endblock%}
		</td> <td><a href="/likitomi/pcdetail/?eID={{eID}}&page=CV"><center>Show full CV schedule</center></a><center>
		<table align=center width="90%">

			<tr  height="5"><td width="60%">{# left #}
			
			<div id="linkCV">
			<table align=center width="100%"><span class="header">
			<thead><tr width="100%" align=center bgcolor="#cccccc"><th width="10%" rowspan="2" height="20"></th><td width="25%" align="left"><b>Sch.IN</b></td><td width="25%" align="left"><b>Sch.OUT</b></td><th width="30%" rowspan="2"> Product code </th><th width="5%" rowspan="2"> Mac. </th><th rowspan="2">From</th><th width="10%" rowspan="2"> Due</th></tr>
			<tr width="100%" align=center bgcolor="#cccccc"><th align="right">Act.IN</th><th align="right">Act.OUT</th></tr></thead>
			{% for start,end,product,actual_start,actual_end,previous_section,cv_machine in items_plan_cv %}
			<tr class="{% cycle 'rowCV1' 'rowCV2' 'rowCV3' as rowcountCV %}" onClick="HighLightTR('{{rowcountCV}}','#c9cc99','cc3333','{{product}}'); showDetail('#loadPageCV','/likitomi/display/?product={{product}}');">
			<td rowspan="2" height="20">{% if cvThreeCL == product or cvThreeCS == product or cvTwoCL == product %} > {% endif %} </td><td> {{start|time:"H:i"}}</td><td> {{end|time:"H:i"}}</td>
<td rowspan="2"><p class="tbunderline">{{product}}</p></td>
<td rowspan="2"><p class="tbunderline">{{previous_section}}<br></p></td>
<td rowspan="2"><p class="tbunderline">{{cv_machine}}<br></p></td>
<td rowspan="2"><p class="tbunderline">##<br></p></td></tr>
			<tr class="{{ rowcountCV }}" onClick="HighLightTR('{{rowcountCV}}','#c9cc99','cc3333','{{product}}'); showDetail('#loadPageCV','/likitomi/display/?product={{product}}');">
			<td><p class="tbsgunderline">
				{% if actual_start != NULL %}
				{{actual_start|time:"H:i" }}
				{% else %} 
				<font color="white">-</font>
				{% endif %}
			</p></td>
			<td><p class="tbsgunderline">				
				{% if actual_end != NULL%}
				{{actual_end|time:"H:i" }}
				{% else %}
				<font color="white">-</font>
				{% endif %}

	<div id="filterCriteriaMonthly" align="center">
	<input type="checkbox" id="finishedM" checked /><label for="finishedM">Finished</label>
	<input type="checkbox" id="notProcessM" checked /><label for="notProcessM">Not yet process</label>
	<input type="checkbox" id="missingM" checked /><label for="missingM">Missing in Pcs.</label>
	</div> <!-- end Filter -->
<br>
<center><table border=1 class="tablesorter" id="totalPlanMonthly" width="100%">
<thead> 
	<tr bgcolor="#cccccc"><th rowspan="2">SO NO</th><th rowspan="2">PO NO</th><th colspan="2">Product Code</th><th rowspan="2">Company</th><th rowspan="2">Product Name</th><th colspan="3">Product Spec.</th><th colspan="2">Amount</th><th colspan="2">Delivery</th><th colspan="3">Corrugator</th><th colspan="3">Convertor</th><th rowspan="2">Actual</th><th rowspan="2">REMARK</th></tr>
<tr bgcolor="#cccccc"><th>CODE</th><th>MC</th><th>P.W</th><th>Lenght</th><th>F</th><th>PCS</th><th>ALW +\-</th><th>Date</th><th>Amount</th><th>Date</th><th>Amount</th><th>Time used</th><th>Date</th><th>Amount</th><th>Time used</th></tr>
</thead>
<tbody> 
	{% for item in items %}
		<tr class="{% if forloop.counter|divisibleby:2 %}even{% else %}odd{% endif %}" id="{{ item.state}}"><td>{{item.plan_id}}</td><td>PO</td><td>{{item.product.product_code}}</td><td>{{item.cv_machine}}</td><td>{{item.product.parent_code.partner.partner_name}}</td><td>{{item.product.parent_code.product_name}}</td><td align="right">{{item.product.parent_code.p_width_inch}}</td><td  align="right">{{item.product.parent_code.t_length}}</td><td>{{item.product.flute}}</td><td align="right">{{item.plan_amount}}</td><td>{{item.product.parent_code.qty_allowance}}</td><td>{{item.plan_due|date:"d/m"}}</td><td align="right">{{item.plan_amount}}</td><td>{{item.plan_cr_start|date:"d/m"}}</td><td align="right">{{item.plan_amount}}</td><td align="right">{{item.cr_time_used}}</td>
	{% if item.plan_cv_start != NULL %}
	<td>{{item.plan_cv_start|date:"d/m"}}</td><td align="right">{{item.plan_amount}}</td><td align="right">{{item.cv_time_used}}</td>
	{% else %}
	<td bgColor=#EBDDE2></td><td  bgColor=#EBDDE2></td><td  bgColor=#EBDDE2></td>
	{% endif %}
	{% if item.actual_amount_wh >= item.plan_amount %}
	<td align="right">{{item.actual_amount_wh}}</td>
	{% else %}
	<td align="right"><font color=red>{{item.actual_amount_wh}}</font></td>
	{% endif %}
	<td></td></tr>
	{% endfor %}
</tbody>
			</p></td>
			</tr>
			{% endfor %}
			</table></div>
			
			</td><td width="50%"  bgColor="#F8F8F8"><table width="100%"><div id="loadPagePT"> {# right #} << Please Click in order to see Product Detail</div></table></td>

			</td>
			</table></center>
		<!-- end pt table -->
		</td> <td> <a href="/likitomi/pcdetail/?eID={{eID}}&page=WH"><center>Show full WH schedule</center></a>
		{% block whview %}
		<!-- start wh table--><center>
		<table align="center" width="80%"> 

			<td width="50%"> {# left #}
			<div id="linkWH">
			<table align=center width = 100%><span class="header">
			<thead><tr width="100%" align=center bgcolor="#cccccc"><th width="10%" rowspan="2"></th><td width="25%" align="left"><b>Sch.IN</b></td><th width="35%" rowspan="2"> Product code </th><th width="30%" rowspan="2">From</th><th width="10%" rowspan="2"> Due</th></tr>
			<tr width="100%" align=center bgcolor="#cccccc"><th align="right">Act.IN</th></tr></span></thead>
			{% for start,product,actual_start,process1,process2,process3 in items_plan_wh %}
			<tr class="{% cycle 'rowWH1' 'rowWH2' 'rowWH3' as rowcountWH %}" onClick="HighLightTR('{{rowcountWH}}','#c9cc99','cc3333','{{product}}');showDetail('#loadPageWH','/likitomi/display/?product={{product}}');"><td rowspan="2"  height="20"> {{num}}{% if wh == start %} > {% endif %} </td><td> {{start|time:"H:i"}}</td>
<td rowspan="2"><p class="tbunderline">{{product}}<br></p></td>
<td rowspan="2"><p class="tbunderline">{% if process3 != NULL%} {{process3}} {% else %}{% if process2 != NULL %} {{process2}}{% else %}{% if process1 != NULL %} {{process1}} {% endif %}{% endif %}{% endif %}<br></p></td>
<td rowspan="2"><p class="tbunderline">##<br></p></td>
</tr>
			<tr class="{{ rowcountWH }}" onClick="HighLightTR('{{rowcountWH}}','#c9cc99','cc3333','{{product}}');showDetail('#loadPageWH','/likitomi/display/?product={{product}}');"" >
			<td><p class="tbsgunderline">
				{% if actual_start != NULL %}
				{{actual_start|time:"H:i" }}
				{% else %} 
				<font color="white">-</font>
				{% endif %}
			</p></td>
			</td></tr>
			{% endfor %}
			</table>			
			</div>
			</td>
			<td width="50%" bgColor="#F8F8F8"><table width="100%"><div id="loadPageWH"> {# right #} << Please Click in order to see Product Detail </div></table>
			</td>
			</tr>
			</table></center>
		<!-- end wh table-->
		{% endblock%}
		</td>
	</tr>

</table>
<!-- end table of normal plan -->
		</p>
	</div>

	<h3><a href="#">Not Process</a></h3>
	<div>
<div align="right"><Form action="/" id="searchDate">From: <input type="text" name="from" id="datepickerFrom"><input type="hidden" id="userID" value="{{eID}}" /> To: <input type="text" name="to" id="datepickerTo">&nbsp;&nbsp;<input type="submit" value="Submit"/></Form> </div><br>
		 <div id="result"></div>
		<script>
		  // attach a submit handler to the form
		  $("#searchDate").submit(function(event) {

		    // stop form from submitting normally
		    event.preventDefault(); 
		    var eID = $("#userID").val();
		    // get some values from elements on the page:
		    var $form = $( this ),
			termFrom = $form.find( 'input[name="from"]' ).val(),
			termTo = $form.find( 'input[name="to"]' ).val(),
			url = $form.attr( 'action' );
		    // Send the data using post and put the results in a div
		$.post("/likitomi/home/?eID="+eID, function(data){
		$( "#result" ).html(termFrom+" "+termTo);
		}

		    );
		  });
		</script>
	</div>
	<h3><a href="#">Missing in pcs.</a></h3>
	<div>
		<p>
		Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque lobortis.
		Phasellus pellentesque purus in massa. Aenean in pede. Phasellus ac libero
		ac tellus pellentesque semper. Sed ac felis. Sed commodo, magna quis
		lacinia ornare, quam ante aliquam nisi, eu iaculis leo purus venenatis dui.
		</p>
		<ul>
			<li>List item one</li>
			<li>List item two</li>
			<li>List item three</li>
		</ul>
	</div>
</div>

</div>

{% endblock %}
